"use strict";(globalThis.webpackChunkbirrlink_docs=globalThis.webpackChunkbirrlink_docs||[]).push([[4799],{571:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"sdks/python","title":"Python SDK","description":"The BirrLink Python SDK provides a simple interface to interact with the BirrLink API for Python applications.","source":"@site/docs/sdks/python.md","sourceDirName":"sdks","slug":"/sdks/python","permalink":"/docs/sdks/python","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/sdks/python.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"JavaScript SDK","permalink":"/docs/sdks/javascript"},"next":{"title":"Java SDK","permalink":"/docs/sdks/java"}}');var i=t(4848),a=t(8453);const s={sidebar_position:3},o="Python SDK",l={},c=[{value:"Installation",id:"installation",level:2},{value:"Initialization",id:"initialization",level:2},{value:"Configuration Options",id:"configuration-options",level:2},{value:"Payment Operations",id:"payment-operations",level:2},{value:"Create Payment",id:"create-payment",level:3},{value:"Retrieve Payment",id:"retrieve-payment",level:3},{value:"List Payments",id:"list-payments",level:3},{value:"Customer Operations",id:"customer-operations",level:2},{value:"Create Customer",id:"create-customer",level:3},{value:"Update Customer",id:"update-customer",level:3},{value:"Refund Operations",id:"refund-operations",level:2},{value:"Create Refund",id:"create-refund",level:3},{value:"Webhook Verification",id:"webhook-verification",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Asynchronous Operations",id:"asynchronous-operations",level:2},{value:"Custom Requests",id:"custom-requests",level:2},{value:"Version Information",id:"version-information",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Testing Considerations",id:"testing-considerations",level:2},{value:"Django Integration",id:"django-integration",level:2},{value:"Flask Integration",id:"flask-integration",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"python-sdk",children:"Python SDK"})}),"\n",(0,i.jsx)(n.p,{children:"The BirrLink Python SDK provides a simple interface to interact with the BirrLink API for Python applications."}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pip install birrlink-sdk\n"})}),"\n",(0,i.jsx)(n.h2,{id:"initialization",children:"Initialization"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from birrlink import BirrLink\n\nclient = BirrLink(\n    api_key=os.getenv('BIRR_LINK_SECRET_KEY'),\n    environment='sandbox'  # Use 'production' for live transactions\n)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"client = BirrLink(\n    api_key='sk_test_1234567890',\n    environment='sandbox',  # 'sandbox' or 'production'\n    timeout=30,  # Request timeout in seconds (default: 30)\n    max_retries=3,  # Number of retry attempts (default: 3)\n    base_url='https://api.birrlink.com/v1'  # Override base URL if needed\n)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"payment-operations",children:"Payment Operations"}),"\n",(0,i.jsx)(n.h3,{id:"create-payment",children:"Create Payment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"try:\n    payment = client.payments.create({\n        'amount': 100.00,\n        'currency': 'ETB',\n        'payment_method': 'mobile_money',\n        'customer': {\n            'email': 'customer@example.com',\n            'phone': '+251912345678'\n        },\n        'description': 'Payment for order #12345',\n        'callback_url': 'https://yourwebsite.com/payment-callback'\n    })\n    \n    print(f'Payment created: {payment[\"id\"]}')\n    print(f'Payment status: {payment[\"status\"]}')\nexcept BirrLinkError as e:\n    if e.type == 'validation_error':\n        print(f'Validation failed: {e.details}')\n    else:\n        print(f'Payment creation failed: {e.message}')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"retrieve-payment",children:"Retrieve Payment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"try:\n    payment = client.payments.get('pay_123456789')\n    print(f'Payment status: {payment[\"status\"]}')\nexcept BirrLinkError as e:\n    print(f'Failed to retrieve payment: {e.message}')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"list-payments",children:"List Payments"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"try:\n    payments = client.payments.list(limit=10, offset=0, status='completed')\n    \n    print(f'Found {len(payments[\"data\"])} payments')\nexcept BirrLinkError as e:\n    print(f'Failed to list payments: {e.message}')\n"})}),"\n",(0,i.jsx)(n.h2,{id:"customer-operations",children:"Customer Operations"}),"\n",(0,i.jsx)(n.h3,{id:"create-customer",children:"Create Customer"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"try:\n    customer = client.customers.create({\n        'email': 'customer@example.com',\n        'phone': '+251912345678',\n        'name': 'John Doe',\n        'metadata': {\n            'customer_type': 'individual'\n        }\n    })\n    \n    print(f'Customer created: {customer[\"id\"]}')\nexcept BirrLinkError as e:\n    print(f'Customer creation failed: {e.message}')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"update-customer",children:"Update Customer"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"try:\n    customer = client.customers.update('cus_123456789', {\n        'email': 'newemail@example.com',\n        'phone': '+251987654321'\n    })\n    \n    print(f'Customer updated: {customer[\"id\"]}')\nexcept BirrLinkError as e:\n    print(f'Customer update failed: {e.message}')\n"})}),"\n",(0,i.jsx)(n.h2,{id:"refund-operations",children:"Refund Operations"}),"\n",(0,i.jsx)(n.h3,{id:"create-refund",children:"Create Refund"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"try:\n    refund = client.refunds.create({\n        'payment_id': 'pay_123456789',\n        'amount': 50.00,\n        'reason': 'Customer request'\n    })\n    \n    print(f'Refund created: {refund[\"id\"]}')\nexcept BirrLinkError as e:\n    print(f'Refund creation failed: {e.message}')\n"})}),"\n",(0,i.jsx)(n.h2,{id:"webhook-verification",children:"Webhook Verification"}),"\n",(0,i.jsx)(n.p,{children:"Verify webhook signatures to ensure authenticity:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from flask import Flask, request\nimport os\n\napp = Flask(__name__)\n\n@app.route('/webhooks/birrlink', methods=['POST'])\ndef webhook_handler():\n    payload = request.get_data()\n    signature = request.headers.get('BirrLink-Signature')\n    \n    try:\n        event = client.webhooks.construct_event(\n            payload,\n            signature,\n            os.getenv('WEBHOOK_SECRET')\n        )\n        \n        # Process the event\n        if event['type'] == 'payment.completed':\n            print('Payment completed')\n        elif event['type'] == 'payment.failed':\n            print('Payment failed')\n        else:\n            print(f'Unhandled event type: {event[\"type\"]}')\n        \n        return 'OK', 200\n    except BirrLinkError as e:\n        print(f'Webhook verification failed: {e.message}')\n        return 'Invalid signature', 400\n"})}),"\n",(0,i.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,i.jsx)(n.p,{children:"The SDK provides detailed error information:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"try:\n    payment = client.payments.create(payment_data)\nexcept ValidationError as e:\n    print(f'Validation error: {e.message}')\n    print(f'Invalid fields: {e.details}')\nexcept AuthenticationError as e:\n    print(f'Authentication failed: {e.message}')\nexcept CardError as e:\n    print(f'Card processing error: {e.message}')\n    print(f'Card code: {e.code}')\nexcept PaymentError as e:\n    print(f'Payment error: {e.message}')\nexcept BirrLinkError as e:\n    print(f'Unexpected error: {e.message}')\n"})}),"\n",(0,i.jsx)(n.h2,{id:"asynchronous-operations",children:"Asynchronous Operations"}),"\n",(0,i.jsx)(n.p,{children:"The Python SDK also supports async operations using aiohttp:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import asyncio\nfrom birrlink import AsyncBirrLink\n\nasync def async_example():\n    client = AsyncBirrLink(\n        api_key=os.getenv('BIRR_LINK_SECRET_KEY'),\n        environment='sandbox'\n    )\n    \n    try:\n        payment = await client.payments.create({\n            'amount': 100.00,\n            'currency': 'ETB',\n            'description': 'Async payment'\n        })\n        \n        print(f'Async payment created: {payment[\"id\"]}')\n    except BirrLinkError as e:\n        print(f'Async payment failed: {e.message}')\n    finally:\n        await client.close()  # Close the async client\n\n# Run the async example\nasyncio.run(async_example())\n"})}),"\n",(0,i.jsx)(n.h2,{id:"custom-requests",children:"Custom Requests"}),"\n",(0,i.jsx)(n.p,{children:"For advanced use cases, you can make custom API requests:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"try:\n    response = client.request(\n        method='GET',\n        path='/custom-endpoint',\n        data={'param': 'value'}\n    )\n    \n    print(f'Custom response: {response}')\nexcept BirrLinkError as e:\n    print(f'Custom request failed: {e.message}')\n"})}),"\n",(0,i.jsx)(n.h2,{id:"version-information",children:"Version Information"}),"\n",(0,i.jsx)(n.p,{children:"Check the SDK version:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"print(f'SDK Version: {client.version}')\n"})}),"\n",(0,i.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,i.jsx)(n.p,{children:"Recommended approach for storing credentials:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from birrlink import BirrLink\nimport os\n\nclient = BirrLink(\n    api_key=os.getenv('BIRR_LINK_SECRET_KEY'),\n    environment='production' if os.getenv('ENVIRONMENT') == 'production' else 'sandbox'\n)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"testing-considerations",children:"Testing Considerations"}),"\n",(0,i.jsx)(n.p,{children:"When testing, use test API keys and enable debug mode:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"client = BirrLink(\n    api_key=os.getenv('BIRR_LINK_TEST_KEY'),\n    environment='sandbox',\n    debug=True  # Enable debug logging\n)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"django-integration",children:"Django Integration"}),"\n",(0,i.jsx)(n.p,{children:"For Django applications, you can integrate the SDK in your views:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# views.py\nfrom django.http import JsonResponse\nfrom django.views.decorators.csrf import csrf_exempt\nfrom django.views.decorators.http import require_http_methods\nimport json\n\n@csrf_exempt\n@require_http_methods([\"POST\"])\ndef create_payment(request):\n    try:\n        data = json.loads(request.body)\n        \n        payment = client.payments.create({\n            'amount': data['amount'],\n            'currency': data['currency'],\n            'description': data['description']\n        })\n        \n        return JsonResponse({'payment': payment})\n    except BirrLinkError as e:\n        return JsonResponse({'error': str(e)}, status=400)\n\n# In your Django settings, make sure to add the webhook URL to allowed hosts\n# if you're receiving webhooks\n"})}),"\n",(0,i.jsx)(n.h2,{id:"flask-integration",children:"Flask Integration"}),"\n",(0,i.jsx)(n.p,{children:"For Flask applications:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from flask import Flask, request, jsonify\n\napp = Flask(__name__)\n\n@app.route('/create-payment', methods=['POST'])\ndef create_payment():\n    try:\n        data = request.get_json()\n        \n        payment = client.payments.create({\n            'amount': data['amount'],\n            'currency': data['currency'],\n            'description': data['description']\n        })\n        \n        return jsonify({'payment': payment})\n    except BirrLinkError as e:\n        return jsonify({'error': str(e)}), 400\n"})}),"\n",(0,i.jsx)(n.p,{children:"For comprehensive testing, use the SDK in combination with BirrLink's sandbox environment to simulate various payment scenarios without real money transfers."})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var r=t(6540);const i={},a=r.createContext(i);function s(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);