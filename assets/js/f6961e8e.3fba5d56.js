"use strict";(globalThis.webpackChunkbirrlink_docs=globalThis.webpackChunkbirrlink_docs||[]).push([[877],{8417:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"sdks/javascript","title":"JavaScript SDK","description":"The BirrLink JavaScript SDK provides a simple interface to interact with the BirrLink API. It includes both server-side Node.js functionality and client-side browser components.","source":"@site/docs/sdks/javascript.md","sourceDirName":"sdks","slug":"/sdks/javascript","permalink":"/docs/sdks/javascript","draft":false,"unlisted":false,"editUrl":"https://github.com/birrlink/birrlink-docs/edit/main/docs/sdks/javascript.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"SDKs Overview","permalink":"/docs/sdks/overview"},"next":{"title":"Python SDK","permalink":"/docs/sdks/python"}}');var s=r(4848),i=r(8453);const a={sidebar_position:2},o="JavaScript SDK",c={},l=[{value:"Installation",id:"installation",level:2},{value:"Node.js",id:"nodejs",level:3},{value:"Browser",id:"browser",level:3},{value:"Initialization",id:"initialization",level:2},{value:"Server-Side (Node.js)",id:"server-side-nodejs",level:3},{value:"Client-Side (Browser)",id:"client-side-browser",level:3},{value:"Configuration Options",id:"configuration-options",level:2},{value:"Payment Operations",id:"payment-operations",level:2},{value:"Create Payment",id:"create-payment",level:3},{value:"Retrieve Payment",id:"retrieve-payment",level:3},{value:"List Payments",id:"list-payments",level:3},{value:"Customer Operations",id:"customer-operations",level:2},{value:"Create Customer",id:"create-customer",level:3},{value:"Update Customer",id:"update-customer",level:3},{value:"Refund Operations",id:"refund-operations",level:2},{value:"Create Refund",id:"create-refund",level:3},{value:"Webhook Verification",id:"webhook-verification",level:2},{value:"Client-Side Card Component",id:"client-side-card-component",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Custom Requests",id:"custom-requests",level:2},{value:"Version Information",id:"version-information",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Testing Considerations",id:"testing-considerations",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"javascript-sdk",children:"JavaScript SDK"})}),"\n",(0,s.jsx)(n.p,{children:"The BirrLink JavaScript SDK provides a simple interface to interact with the BirrLink API. It includes both server-side Node.js functionality and client-side browser components."}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(n.h3,{id:"nodejs",children:"Node.js"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install @birrlink/sdk\n"})}),"\n",(0,s.jsx)(n.h3,{id:"browser",children:"Browser"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<script src="https://cdn.birrlink.et/sdk/v1/birrlink.min.js"><\/script>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"initialization",children:"Initialization"}),"\n",(0,s.jsx)(n.h3,{id:"server-side-nodejs",children:"Server-Side (Node.js)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const BirrLink = require('@birrlink/sdk');\n\nconst client = new BirrLink({\n  apiKey: process.env.BIRR_LINK_SECRET_KEY,\n  environment: 'sandbox' // Use 'production' for live transactions\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"client-side-browser",children:"Client-Side (Browser)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Only for client-side components like card elements\nconst birrlink = BirrLink('pk_test_your_publishable_key');\n"})}),"\n",(0,s.jsx)(n.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const client = new BirrLink({\n  apiKey: 'sk_test_1234567890',\n  environment: 'sandbox', // 'sandbox' or 'production'\n  timeout: 30000, // Request timeout in milliseconds (default: 30000)\n  maxRetries: 3, // Number of retry attempts (default: 3)\n  baseUrl: 'https://api.birrlink.et/v1' // Override base URL if needed\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"payment-operations",children:"Payment Operations"}),"\n",(0,s.jsx)(n.h3,{id:"create-payment",children:"Create Payment"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"try {\n  const payment = await client.payments.create({\n    amount: 100.00,\n    currency: 'ETB',\n    payment_method: 'mobile_money',\n    customer: {\n      email: 'customer@example.com',\n      phone: '+251912345678'\n    },\n    description: 'Payment for order #12345',\n    callback_url: 'https://yourwebsite.com/payment-callback'\n  });\n  \n  console.log('Payment created:', payment.id);\n  console.log('Payment status:', payment.status);\n} catch (error) {\n  if (error.type === 'validation_error') {\n    console.error('Validation failed:', error.details);\n  } else {\n    console.error('Payment creation failed:', error.message);\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"retrieve-payment",children:"Retrieve Payment"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"try {\n  const payment = await client.payments.get('pay_123456789');\n  console.log('Payment status:', payment.status);\n} catch (error) {\n  console.error('Failed to retrieve payment:', error.message);\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"list-payments",children:"List Payments"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"try {\n  const payments = await client.payments.list({\n    limit: 10,\n    offset: 0,\n    status: 'completed'\n  });\n  \n  console.log(`Found ${payments.data.length} payments`);\n} catch (error) {\n  console.error('Failed to list payments:', error.message);\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"customer-operations",children:"Customer Operations"}),"\n",(0,s.jsx)(n.h3,{id:"create-customer",children:"Create Customer"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"try {\n  const customer = await client.customers.create({\n    email: 'customer@example.com',\n    phone: '+251912345678',\n    name: 'John Doe',\n    metadata: {\n      customer_type: 'individual'\n    }\n  });\n  \n  console.log('Customer created:', customer.id);\n} catch (error) {\n  console.error('Customer creation failed:', error.message);\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"update-customer",children:"Update Customer"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"try {\n  const customer = await client.customers.update('cus_123456789', {\n    email: 'newemail@example.com',\n    phone: '+251987654321'\n  });\n  \n  console.log('Customer updated:', customer.id);\n} catch (error) {\n  console.error('Customer update failed:', error.message);\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"refund-operations",children:"Refund Operations"}),"\n",(0,s.jsx)(n.h3,{id:"create-refund",children:"Create Refund"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"try {\n  const refund = await client.refunds.create({\n    payment_id: 'pay_123456789',\n    amount: 50.00,\n    reason: 'Customer request'\n  });\n  \n  console.log('Refund created:', refund.id);\n} catch (error) {\n  console.error('Refund creation failed:', error.message);\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"webhook-verification",children:"Webhook Verification"}),"\n",(0,s.jsx)(n.p,{children:"Verify webhook signatures to ensure authenticity:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Express.js example\napp.post('/webhooks/birrlink', express.raw({type: 'application/json'}), (req, res) => {\n  const signature = req.headers['birrlink-signature'];\n  \n  try {\n    const event = client.webhooks.constructEvent(\n      req.body,\n      signature,\n      process.env.WEBHOOK_SECRET\n    );\n    \n    // Process the event\n    switch (event.type) {\n      case 'payment.completed':\n        console.log('Payment completed');\n        break;\n      case 'payment.failed':\n        console.log('Payment failed');\n        break;\n      default:\n        console.log(`Unhandled event type: ${event.type}`);\n    }\n    \n    res.status(200).send('OK');\n  } catch (error) {\n    console.error('Webhook verification failed:', error.message);\n    res.status(400).send('Invalid signature');\n  }\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"client-side-card-component",children:"Client-Side Card Component"}),"\n",(0,s.jsx)(n.p,{children:"For secure card collection in the browser:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<div id="payment-form">\n  <div id="card-element">\n    \x3c!-- Card element will be inserted here --\x3e\n  </div>\n  <button id="submit-btn">Pay Now</button>\n</div>\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Initialize elements\nconst elements = birrlink.elements();\n\n// Create card element\nconst cardElement = elements.create('card', {\n  style: {\n    base: {\n      fontSize: '16px',\n      color: '#424770',\n      '::placeholder': {\n        color: '#aab7c4',\n      },\n    },\n  },\n});\n\n// Mount card element to DOM\ncardElement.mount('#card-element');\n\n// Handle form submission\ndocument.getElementById('submit-btn').addEventListener('click', async (event) => {\n  event.preventDefault();\n  \n  const {token, error} = await birrlink.createToken(cardElement);\n  \n  if (error) {\n    console.error('Card validation error:', error.message);\n    // Show error to customer\n  } else {\n    // Send token to your server\n    createPayment(token.id);\n  }\n});\n\nfunction createPayment(tokenId) {\n  // Send token to your server to create payment\n  fetch('/create-payment', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      amount: 100.00,\n      currency: 'ETB',\n      source: tokenId\n    })\n  })\n  .then(response => response.json())\n  .then(data => console.log('Payment created:', data));\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(n.p,{children:"The SDK provides detailed error information:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"try {\n  const payment = await client.payments.create(paymentData);\n} catch (error) {\n  switch (error.type) {\n    case 'validation_error':\n      console.error('Validation error:', error.message);\n      console.error('Invalid fields:', error.details);\n      break;\n      \n    case 'authentication_error':\n      console.error('Authentication failed:', error.message);\n      break;\n      \n    case 'card_error':\n      console.error('Card processing error:', error.message);\n      console.error('Card code:', error.code);\n      break;\n      \n    case 'payment_error':\n      console.error('Payment error:', error.message);\n      break;\n      \n    default:\n      console.error('Unexpected error:', error.message);\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"custom-requests",children:"Custom Requests"}),"\n",(0,s.jsx)(n.p,{children:"For advanced use cases, you can make custom API requests:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"try {\n  const response = await client.request({\n    method: 'GET',\n    path: '/custom-endpoint',\n    data: { param: 'value' }\n  });\n  \n  console.log('Custom response:', response);\n} catch (error) {\n  console.error('Custom request failed:', error.message);\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"version-information",children:"Version Information"}),"\n",(0,s.jsx)(n.p,{children:"Check the SDK version:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"console.log('SDK Version:', client.version);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,s.jsx)(n.p,{children:"Recommended approach for storing credentials:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"require('dotenv').config(); // If using dotenv\n\nconst client = new BirrLink({\n  apiKey: process.env.BIRR_LINK_SECRET_KEY,\n  environment: process.env.NODE_ENV === 'production' ? 'production' : 'sandbox'\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"testing-considerations",children:"Testing Considerations"}),"\n",(0,s.jsx)(n.p,{children:"When testing, use test API keys and enable debug mode:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const client = new BirrLink({\n  apiKey: process.env.BIRR_LINK_TEST_KEY,\n  environment: 'sandbox',\n  debug: true // Enable debug logging\n});\n"})}),"\n",(0,s.jsx)(n.p,{children:"For comprehensive testing, use the SDK in combination with BirrLink's sandbox environment to simulate various payment scenarios without real money transfers."})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>o});var t=r(6540);const s={},i=t.createContext(s);function a(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);