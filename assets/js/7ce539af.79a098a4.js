"use strict";(globalThis.webpackChunkbirrlink_docs=globalThis.webpackChunkbirrlink_docs||[]).push([[690],{3124:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"testing/sandbox","title":"Sandbox Testing","description":"The BirrLink sandbox environment is a complete, isolated replica of our production system. It allows you to develop and test your integration without processing real transactions or affecting live data.","source":"@site/docs/testing/sandbox.md","sourceDirName":"testing","slug":"/testing/sandbox","permalink":"/docs/testing/sandbox","draft":false,"unlisted":false,"editUrl":"https://github.com/birrlink/birrlink-docs/edit/main/docs/testing/sandbox.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Testing & Sandbox Overview","permalink":"/docs/testing/overview"},"next":{"title":"Security Overview","permalink":"/docs/security/overview"}}');var t=i(4848),r=i(8453);const a={sidebar_position:2},o="Sandbox Testing",l={},c=[{value:"Accessing the Sandbox",id:"accessing-the-sandbox",level:2},{value:"API Credentials",id:"api-credentials",level:3},{value:"Base URLs",id:"base-urls",level:3},{value:"Setting up Your Application",id:"setting-up-your-application",level:2},{value:"Environment Configuration",id:"environment-configuration",level:3},{value:"Testing Payment Flows",id:"testing-payment-flows",level:2},{value:"Mobile Money Testing",id:"mobile-money-testing",level:3},{value:"Card Payment Testing",id:"card-payment-testing",level:3},{value:"Test Card Numbers",id:"test-card-numbers",level:3},{value:"Simulating Different Scenarios",id:"simulating-different-scenarios",level:2},{value:"Successful Payments",id:"successful-payments",level:3},{value:"Failed Payments",id:"failed-payments",level:3},{value:"Testing Different Payment Statuses",id:"testing-different-payment-statuses",level:3},{value:"Webhook Testing",id:"webhook-testing",level:2},{value:"Simulating Webhook Events",id:"simulating-webhook-events",level:3},{value:"Testing Webhook Reliability",id:"testing-webhook-reliability",level:3},{value:"Sandbox Limitations",id:"sandbox-limitations",level:2},{value:"Differences from Production",id:"differences-from-production",level:3},{value:"Data Persistence",id:"data-persistence",level:3},{value:"Best Practices for Sandbox Testing",id:"best-practices-for-sandbox-testing",level:2},{value:"1. Comprehensive Scenario Testing",id:"1-comprehensive-scenario-testing",level:3},{value:"2. Error Handling Validation",id:"2-error-handling-validation",level:3},{value:"3. Edge Case Testing",id:"3-edge-case-testing",level:3},{value:"4. Integration Testing",id:"4-integration-testing",level:3},{value:"Troubleshooting Sandbox Issues",id:"troubleshooting-sandbox-issues",level:2},{value:"Common Problems",id:"common-problems",level:3},{value:"Debugging Tips",id:"debugging-tips",level:3},{value:"Transitioning to Production",id:"transitioning-to-production",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"sandbox-testing",children:"Sandbox Testing"})}),"\n",(0,t.jsx)(n.p,{children:"The BirrLink sandbox environment is a complete, isolated replica of our production system. It allows you to develop and test your integration without processing real transactions or affecting live data."}),"\n",(0,t.jsx)(n.h2,{id:"accessing-the-sandbox",children:"Accessing the Sandbox"}),"\n",(0,t.jsx)(n.h3,{id:"api-credentials",children:"API Credentials"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Sandbox API keys are different from your production keys"}),"\n",(0,t.jsxs)(n.li,{children:["Find your sandbox credentials in the ",(0,t.jsx)(n.a,{href:"https://dashboard.birrlink.et",children:"BirrLink Dashboard"})," under the Sandbox section"]}),"\n",(0,t.jsxs)(n.li,{children:["Test keys follow the format ",(0,t.jsx)(n.code,{children:"sk_test_..."})," and ",(0,t.jsx)(n.code,{children:"pk_test_..."})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"base-urls",children:"Base URLs"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"API"}),": ",(0,t.jsx)(n.code,{children:"https://sandbox.birrlink.et/api/v1"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Payment Pages"}),": ",(0,t.jsx)(n.code,{children:"https://pay.sandbox.birrlink.et"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Dashboard"}),": ",(0,t.jsx)(n.code,{children:"https://dashboard.sandbox.birrlink.et"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"setting-up-your-application",children:"Setting up Your Application"}),"\n",(0,t.jsx)(n.h3,{id:"environment-configuration",children:"Environment Configuration"}),"\n",(0,t.jsx)(n.p,{children:"Configure your application to work with the sandbox:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"JavaScript/Node.js:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const BirrLink = require('@birrlink/sdk');\n\nconst client = new BirrLink({\n  apiKey: process.env.BIRR_LINK_TEST_KEY,\n  environment: 'sandbox'\n});\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Python:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from birrlink import BirrLink\n\nclient = BirrLink(\n    api_key=os.getenv('BIRR_LINK_TEST_KEY'),\n    environment='sandbox'\n)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Java:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import com.birrlink.BirrLink;\nimport com.birrlink.Environment;\n\nBirrLink client = new BirrLink(\n    System.getenv("BIRR_LINK_TEST_KEY"),\n    Environment.SANDBOX\n);\n'})}),"\n",(0,t.jsx)(n.h2,{id:"testing-payment-flows",children:"Testing Payment Flows"}),"\n",(0,t.jsx)(n.h3,{id:"mobile-money-testing",children:"Mobile Money Testing"}),"\n",(0,t.jsx)(n.p,{children:"When testing mobile money payments in sandbox, use these test credentials:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Telebirr Test Flow:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const payment = await client.payments.create({\n  amount: 10.00,\n  currency: 'ETB',\n  payment_method: 'mobile_money',\n  mobile_money_provider: 'telebirr',\n  customer: {\n    phone: '+251900000000'  // Use test phone number\n  },\n  description: 'Telebirr test payment'\n});\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Phone: ",(0,t.jsx)(n.code,{children:"+251900000000"})]}),"\n",(0,t.jsxs)(n.li,{children:["PIN: ",(0,t.jsx)(n.code,{children:"1234"})]}),"\n",(0,t.jsx)(n.li,{children:"The sandbox will automatically complete the payment without requiring actual confirmation"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"CBE Birr Test Flow:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const payment = await client.payments.create({\n  amount: 15.50,\n  currency: 'ETB',\n  payment_method: 'mobile_money',\n  mobile_money_provider: 'cbe_birr',\n  customer: {\n    phone: '+251900000001'  // Use CBE test phone number\n  },\n  description: 'CBE Birr test payment'\n});\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Phone: ",(0,t.jsx)(n.code,{children:"+251900000001"})]}),"\n",(0,t.jsxs)(n.li,{children:["PIN: ",(0,t.jsx)(n.code,{children:"5678"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"card-payment-testing",children:"Card Payment Testing"}),"\n",(0,t.jsx)(n.p,{children:"For card payments, use these test card numbers:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const payment = await client.payments.create({\n  amount: 25.99,\n  currency: 'ETB',\n  payment_method: 'card',\n  card: {\n    number: '4242424242424242',  // Visa test card\n    expiry_month: '12',\n    expiry_year: '2027',\n    cvv: '123',\n    holder_name: 'Test User'\n  },\n  description: 'Card test payment'\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"test-card-numbers",children:"Test Card Numbers"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"4242424242424242"})," - Standard Visa (valid)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"4000056655665556"})," - Visa with specific decline codes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"5555555555554444"})," - Mastercard"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"376008000000000"})," - Ethnicard"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"simulating-different-scenarios",children:"Simulating Different Scenarios"}),"\n",(0,t.jsx)(n.h3,{id:"successful-payments",children:"Successful Payments"}),"\n",(0,t.jsx)(n.p,{children:"Use standard test card numbers to simulate successful transactions:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"4242424242424242"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"5555555555554444"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"failed-payments",children:"Failed Payments"}),"\n",(0,t.jsx)(n.p,{children:"To test error handling, use these card numbers:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Card declined\nconst declinedPayment = await client.payments.create({\n  amount: 20.00,\n  currency: 'ETB',\n  card: {\n    number: '4000000000000002',  // Card will be declined\n    expiry_month: '12',\n    expiry_year: '2027',\n    cvv: '123'\n  }\n});\n\n// Insufficient funds\nconst insufficientFundsPayment = await client.payments.create({\n  amount: 50.00,\n  currency: 'ETB',\n  card: {\n    number: '4000000000009995',  // Insufficient funds\n    expiry_month: '12',\n    expiry_year: '2027',\n    cvv: '123'\n  }\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"testing-different-payment-statuses",children:"Testing Different Payment Statuses"}),"\n",(0,t.jsx)(n.p,{children:"The sandbox allows you to test different payment lifecycle events:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Create a payment\nconst payment = await client.payments.create({\n  amount: 10.00,\n  currency: 'ETB',\n  payment_method: 'mobile_money',\n  customer: {\n    phone: '+251900000000'\n  },\n  description: 'Test payment status flow'\n});\n\n// Check initial status\nconsole.log('Initial status:', payment.status);  // Should be 'pending'\n\n// In sandbox, status updates may happen immediately based on your test scenario\nconst updatedPayment = await client.payments.get(payment.id);\nconsole.log('Updated status:', updatedPayment.status);\n"})}),"\n",(0,t.jsx)(n.h2,{id:"webhook-testing",children:"Webhook Testing"}),"\n",(0,t.jsx)(n.h3,{id:"simulating-webhook-events",children:"Simulating Webhook Events"}),"\n",(0,t.jsx)(n.p,{children:"The sandbox environment allows you to trigger webhook events manually:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Via Dashboard:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.strong,{children:"Sandbox Dashboard"})," \u2192 ",(0,t.jsx)(n.strong,{children:"Webhooks"})]}),"\n",(0,t.jsx)(n.li,{children:'Click "Test Webhook"'}),"\n",(0,t.jsx)(n.li,{children:"Select the event type and provide parameters"}),"\n",(0,t.jsx)(n.li,{children:"The event will be sent to your registered webhook URL"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Via API:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Trigger a test webhook event\nconst testEvent = await client.webhooks.test({\n  url: 'https://yourwebhook.com/birrlink',\n  event: 'payment.completed',\n  payload: {\n    id: 'pay_test_123456789',\n    status: 'completed',\n    amount: 10.00,\n    currency: 'ETB'\n  }\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"testing-webhook-reliability",children:"Testing Webhook Reliability"}),"\n",(0,t.jsx)(n.p,{children:"Test your webhook endpoint's ability to handle:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Duplicate events (the sandbox may send the same event multiple times)"}),"\n",(0,t.jsx)(n.li,{children:"Out-of-order events"}),"\n",(0,t.jsx)(n.li,{children:"Invalid signatures"}),"\n",(0,t.jsx)(n.li,{children:"Slow response times"}),"\n",(0,t.jsx)(n.li,{children:"Errors and retries"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Test webhook with simulated delay\napp.post('/webhooks/birrlink', express.raw({type: 'application/json'}), async (req, res) => {\n  // Simulate processing delay to test timeout handling\n  await new Promise(resolve => setTimeout(resolve, 8000));\n  \n  try {\n    const event = JSON.parse(req.body);\n    // Process webhook normally\n    res.status(200).send('OK');\n  } catch (error) {\n    res.status(400).send('Invalid');\n  }\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"sandbox-limitations",children:"Sandbox Limitations"}),"\n",(0,t.jsx)(n.h3,{id:"differences-from-production",children:"Differences from Production"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"No real monetary transactions"}),"\n",(0,t.jsx)(n.li,{children:"Test credentials are used instead of real customer information"}),"\n",(0,t.jsx)(n.li,{children:"Some advanced fraud detection may be simplified or disabled"}),"\n",(0,t.jsx)(n.li,{children:"Rate limits may differ from production"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"data-persistence",children:"Data Persistence"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Sandbox data is regularly cleaned and reset"}),"\n",(0,t.jsx)(n.li,{children:"Do not rely on sandbox data for long-term storage"}),"\n",(0,t.jsx)(n.li,{children:"Sandbox data is completely separate from production"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"best-practices-for-sandbox-testing",children:"Best Practices for Sandbox Testing"}),"\n",(0,t.jsx)(n.h3,{id:"1-comprehensive-scenario-testing",children:"1. Comprehensive Scenario Testing"}),"\n",(0,t.jsx)(n.p,{children:"Test all possible scenarios in the sandbox:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Test different amount ranges\nconst amounts = [1.00, 10.50, 100.00, 999.99];\nfor (const amount of amounts) {\n  const payment = await client.payments.create({\n    amount: amount,\n    currency: 'ETB',\n    customer: { email: 'test@example.com' },\n    description: `Test payment for ${amount} ETB`\n  });\n  console.log(`Payment for ${amount} ETB: ${payment.status}`);\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-error-handling-validation",children:"2. Error Handling Validation"}),"\n",(0,t.jsx)(n.p,{children:"Ensure your error handling works correctly:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const testCases = [\n  { amount: -10.00, expectedError: 'validation_error' },\n  { card: { number: 'invalid' }, expectedError: 'invalid_card' },\n  { amount: 0, expectedError: 'validation_error' }\n];\n\nfor (const testCase of testCases) {\n  try {\n    await client.payments.create(testCase);\n    console.error(`Expected error but got success for: ${JSON.stringify(testCase)}`);\n  } catch (error) {\n    if (error.type === testCase.expectedError) {\n      console.log(`Correctly handled: ${testCase.expectedError}`);\n    } else {\n      console.error(`Unexpected error type: ${error.type}`);\n    }\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-edge-case-testing",children:"3. Edge Case Testing"}),"\n",(0,t.jsx)(n.p,{children:"Test with edge cases:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Maximum amount\nconst maxPayment = await client.payments.create({\n  amount: 999999.99,  // Maximum possible amount\n  currency: 'ETB',\n  customer: { email: 'test@example.com' },\n  description: 'Max amount test'\n});\n\n// Minimum amount\nconst minPayment = await client.payments.create({\n  amount: 0.01,  // Minimum possible amount\n  currency: 'ETB',\n  customer: { email: 'test@example.com' },\n  description: 'Min amount test'\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"4-integration-testing",children:"4. Integration Testing"}),"\n",(0,t.jsx)(n.p,{children:"Test your complete integration flow:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Full payment flow test\nasync function completePaymentFlow() {\n  // Create customer\n  const customer = await client.customers.create({\n    email: 'test@example.com',\n    phone: '+251900000000',\n    name: 'Test Customer'\n  });\n  \n  // Create payment\n  const payment = await client.payments.create({\n    amount: 25.00,\n    currency: 'ETB',\n    customer: { id: customer.id },\n    description: 'Complete flow test'\n  });\n  \n  // Verify payment was created\n  expect(payment.status).toBe('pending');\n  \n  // Retrieve payment details\n  const retrievedPayment = await client.payments.get(payment.id);\n  console.log('Payment retrieved successfully:', retrievedPayment.id);\n  \n  return retrievedPayment;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting-sandbox-issues",children:"Troubleshooting Sandbox Issues"}),"\n",(0,t.jsx)(n.h3,{id:"common-problems",children:"Common Problems"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Authentication Errors"}),": Verify you're using test API keys, not live keys"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Invalid Parameter Errors"}),": Check the API documentation for correct formats"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Webhook Delivery Issues"}),": Ensure your webhook URL is accessible and returns 200"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"debugging-tips",children:"Debugging Tips"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Enable logging in your SDK"}),"\n",(0,t.jsx)(n.li,{children:"Check your request/response headers"}),"\n",(0,t.jsx)(n.li,{children:"Verify timestamp and signature calculations for webhooks"}),"\n",(0,t.jsx)(n.li,{children:"Use the sandbox dashboard logs to troubleshoot"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"transitioning-to-production",children:"Transitioning to Production"}),"\n",(0,t.jsx)(n.p,{children:"Before moving to production:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Update API keys to live credentials"}),"\n",(0,t.jsx)(n.li,{children:"Change base URL from sandbox to production"}),"\n",(0,t.jsx)(n.li,{children:"Update webhook URLs to production endpoints"}),"\n",(0,t.jsx)(n.li,{children:"Test with real payment methods in a limited way"}),"\n",(0,t.jsx)(n.li,{children:"Ensure all error handling works with real scenarios"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Remember that the sandbox environment is designed to match production as closely as possible, so if your integration works correctly in sandbox, it should work in production as well."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var s=i(6540);const t={},r=s.createContext(t);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);